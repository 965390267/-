<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta charset="utf-8">
    <title>韭菜等级测试</title>
    <link rel="stylesheet" href="./css/swiper.min.css">
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <div class="first wrap-bg">
        <div class="first-btn" onclick="gotofirst()"></div>
    </div>
    <div class="global">
        <div class="progress">
            <div class="progress-bar">
                <div class="slide">
                    <div class="current"></div>
                </div>
                <i class="progress-num">10%</i>
            </div>

        </div>
        <div class="swiper-container global-promotion">
            <div class="swiper-wrapper">

           <!-- slide动态渲染添加 -->

            </div>
        </div>
    </div>
    <script>
        let str=''
        for (let index = 1; index < 10; index++) {
            var slide=`
         <div class="swiper-slide">
                    <div class="question-bar"><img src="./question/${index}/num@2x.png" alt="" srcset=""></div>
                    <div class="title-bg"><img src="./question/${index}/question@2x.png" alt="" srcset=""></div>
                    <div class="submit-btn-wrap">
                        <div class="btn-item"><img src="./question/${index}/q1@2x.png" alt="" srcset=""></div>
                        <div class="btn-item"><img src="./question/${index}/q2@2x.png" alt="" srcset=""></div>
                        <div class="btn-item"><img src="./question/${index}/q3@2x.png" alt="" srcset=""></div>
                        <div class="btn-item"><img src="./question/${index}/q4@2x.png" alt="" srcset=""></div>
                    </div>
                </div>
         ` 
         str+=slide;
        } 
         document.getElementsByClassName('swiper-wrapper')[0].innerHTML=str
    </script>
    <script src="./js/swiper.min.js"></script>
    <script src="./js/conf.js"></script>
    <script>
        function gotofirst() {
            document.querySelector('.global').style.display = 'flex'
            document.querySelector('.first').style.display = 'none'
        }

        (function () {
            let btn_wrap = document.getElementsByClassName('submit-btn-wrap');
            for (let index = 0; index < btn_wrap.length; index++) {
                let btn_item = btn_wrap[index].getElementsByClassName('btn-item')

                for (let btn = 0; btn < btn_item.length; btn++) {
                    btn_item[btn].onclick = function () {
                        let that = this;
                        selectItem(index, btn, btn_item.length, that);
                    }
                }
            }
            /*  
            * @ parms {page}代表第几页，初始下表为0
            *@ parms {btn_item}代表第几个按钮，初始下表为0
            *@ parms {item_length}代表总共有多少个按钮，为了扩展所以动态传入
            *@ parms {self}代表点击按钮本身
            */
            function selectItem(page, btn_item, item_length, self) {
                for (let index = 0; index < item_length; index++) {
                    let current_page_btn = btn_wrap[page].getElementsByClassName('btn-item')[index];
                    current_page_btn.style.background = '#000';
                    current_page_btn.children[0].src = `./question/${page + 1}/q${index + 1}@2x.png`/* 设置为白色字体 */
                }
                self.style.background = '#fff'
                self.children[0].src = `./question/${page + 1}/b/q${btn_item + 1}@2x.png`/* 设置为黑色字体 */
            }
        })()
    </script>
</body>

</html>